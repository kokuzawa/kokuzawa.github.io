---
title: "OSXのアイコンキャッシュに悩む"
date: 2015-02-01T13:20:12+09:00
tags: [Mac] 
---
自宅でのOfficeソフトですが、普段はApache OpenOfficeを使っています。
久しぶりに起動したら最新版へのダウンロードアイコンが表示されていたので、
アップデートをしようとOpenOfficeのサイトを開きました。
すると、それはなんかこう残念なデザインのサイトのままで、
じゃあLibreOfficeの方はどうなんだろうと覗いてみると、
すっきりした個人的に好みなサイトデザインでした。
ソフトウェアの品質には関係がないとわかっていたのですが、
それでもLibreOfficeの方が良さそうだなと思わせてもらうには十分だったので、
これを機会にApache OpenOfficeからLibreOfficeに置き換えることにしました。

<!-- MORE -->

## インストール
まず、インストールされているApache OpenOfficeをゴミ箱へ捨てます。
そのあと、ダウンロードしておいたLibreOfficeのdmgを起動して、
アプリをApplicationフォルダにコピーします。
これでインストールが完了しました。

## 使ってみる
早速スプレットシートを起動してファイルを作成して保存すると、
なぜかファイルのアイコンがOpenOfficeのままになっています。
「情報を見る」で確認すると、アイコンはOpenOfficeなんですが、
プレビューの部分はLibreOfficeになっています。
この時点で、キャッシュが悪さしているのだろうとは思ったのですが、
どうやって直したものかかなり悩みました。

## キャッシュはどこだ？
調べると、OSXのキャッシュ情報は下記の3箇所にあるようです。

* /System/Library/Caches
* /Library/Caches
* /Users/UserName/Library/Caches

この中のファイルをすべて削除すれば良さそうですが、
Cachesフォルダの中にIntellij14とかいうフォルダもあって、
何も考えずに削除すると大変なことになりそうな気がします。

そこでファイルの名前からそれっぽいのを探してピンポイントで削除できないだろうかと、
3箇所の中を眺めていると/Library/Cachesに`com.apple.iconservices.store`というそれっぽいフォルダを見つけました。
このフォルダをひとまずリネームしてOSを再起動すると、
スプレットシートのファイルのアイコンが無事にLibreOfficeのものに変わっていました。

改めて/Library/Cachesを除くと、`com.apple.iconservices.store`フォルダが新しく作られているので、
リネームした古いフォルダを削除します。これで完了です。

一応おきまりの注意ですが、
たまたま上手く行っただけかもしれないので、
あくまでも自己責任でお願いします。

