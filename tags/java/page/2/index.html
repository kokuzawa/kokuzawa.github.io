<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="pinterest" content="nopin">
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="generator" content="Hugo 0.31" />

<link rel="alternate" type="application/rss+xml" title="RSS" href="https://kokuzawa.github.io/tags/java/index.xml">

<link rel="canonical" href="https://kokuzawa.github.io/tags/java/">


    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized_dark.min.css">
    <title>Java - Katsumi Kokuzawa&#39;s Blog</title>
    
    <link href="https://kokuzawa.github.io/css/styles.css" rel="stylesheet">
    

  </head>

  <body>
    
    
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-36546771-1', 'auto');
ga('send', 'pageview');
</script>

    

    <header class="l-header">
      <nav class="navbar navbar-default">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://kokuzawa.github.io/">Katsumi Kokuzawa&#39;s Blog</a>
          </div>

          
          <div id="navbar" class="collapse navbar-collapse">
            
            <ul class="nav navbar-nav navbar-right">
              
              
              <li><a href="https://kokuzawa.github.io/about/">About</a></li>
              
              
            </ul>
            
          </div>
          

        </div>
      </nav>
    </header>

    <main>
      <div class="container">
        
<div class="row">
  <div class="col-md-8">

    
    <header class="page-header">
      <h1>Java</h1>
    </header>
    

    <ul class="p-articles">
      
      <li><article class="li">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2015-12-10T10:10:10JST">Dec 10, 2015</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://kokuzawa.github.io/blog/">blog</a></li>
      
    </ul>
    <h2 class="title"><a href="https://kokuzawa.github.io/blog/2015/12/10/testfx/">JavaFXのUIをJUnit形式でテストする</a></h2>
  </header>

  
  <div class="summary">Java Advent Calendar 2015と JavaFX Advent Calendar 2015の10日目の記事です。
昨日は下記のお二人でした。
 Java Advent Calendarは@namihira_kさんの 「パフォーマンスを意識したJavaコーディング」 JavaFX Advent Calendarは@skrbさんの 「Interpolator で補間」  明日は下記のお二人です。
 Java Advent Calendarは@bitter_foxさん JavaFX Advent Calendarは@y_q1mさん  TestFXを知る 先月ダウンロードしたJava Magazine vol23に面白い記事が載っていました。 テストについて特集された中の、TestFXによるJavaFXのテストについての記事です。 TestFXはJavaFXのユーザ・インターフェースをJUnitベースでテストするためのAPIということで、 JUnitで書いたロジック通りにユーザ・インターフェースのテストが実施されます。 単純にロジックをなぞるだけではなく、実際にユーザ・インターフェースを操作した結果を判定してくれるようです。 これは、実際にテストを実行した際に、JavaFXのアプリ上でマウスカーソルが自動的に動いてボタンをクリックしたりすることからもわかります。
普段のプロジェクトでは、残念ながらJavaFXではなくFlexを使っているのですが、 ユーザ・インターフェース周りのテストの仕組みはあってもなかなか思ったようなテストができていないのが現実です。 TestFXはJUnitの延長上でテストができそうなので期待できそうです。
内容を説明する前に、実際に実行した際の動画を記録しました。 動画だと自動で動いているのかわからないと思いますが、 テスト起動後には何も操作をしていません。
 アプリの説明 テストに使ったアプリは、ラベルとボタンのあるシンプルなものです。 ボタンをクリックすることで、ラベルに「Hello World!」と表示します。
実際のコードは下記にあります。
https://github.com/kokuzawa/javafx-test
TestFXを設定 Mavenプロジェクトでは下記のDependencyを追加します。
&lt;dependency&gt; &lt;groupId&gt;org.loadui&lt;/groupId&gt; &lt;artifactId&gt;testFx&lt;/artifactId&gt; &lt;version&gt;3.1.2&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt;  テストを書く 対象のテストクラスは、TestFXを使うためにorg.loadui.testfx.GuiTestクラスを継承します。 org.loadui.testfx.GuiTestクラスはgetRootNode()メソッドを持ち、そのメソッドでテストしたい画面のFXMLをロードします。
package org.katsumi; import javafx.fxml.FXMLLoader; import javafx.scene.Node; import javafx.</div>

  
  <footer>
    <a href="https://kokuzawa.github.io/blog/2015/12/10/testfx/" title="JavaFXのUIをJUnit形式でテストする">Read More…</a>
  </footer>
  
</article>
</li>
      
      <li><article class="li">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2015-11-22T22:33:53JST">Nov 22, 2015</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://kokuzawa.github.io/blog/">blog</a></li>
      
    </ul>
    <h2 class="title"><a href="https://kokuzawa.github.io/blog/2015/11/22/wildfly-swarmdeejbwoshi-su/">WildFly SwarmでEJBを試す</a></h2>
  </header>

  
  <div class="summary">WildFly Swarmを試すのも今日で３回目です。 だんだんと実装方法に慣れてきました。 この辺で当初の目的であったWildFly SwarmでEJBを使ってみたいと思います。 EJBが使えないのならSpring Bootで全然構わないわけで、 EJBが使えるかどうかはとても大事なところです。
EJBを組み込む EJBのモジュールを組み込みます。 よくよく考えてみると、EJBだけでは動きを確認するのが大変なので、 リクエストの受け口だけはJAXRSで作ります。 なので、JAXRSのモジュールも合わせて組み込みます。
また、JAXRSのリソースから@InjectでEJBをDIするにはWeldも必要です。 そのため、JAXRSのモジュールはwildfly-swarm-jaxrs-weldを利用することにします。
&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.wildfly.swarm&lt;/groupId&gt; &lt;artifactId&gt;wildfly-swarm-jaxrs-weld&lt;/artifactId&gt; &lt;version&gt;1.0.0.Alpha5&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.wildfly.swarm&lt;/groupId&gt; &lt;artifactId&gt;wildfly-swarm-ejb&lt;/artifactId&gt; &lt;version&gt;1.0.0.Alpha5&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;  EJBを使ったアプリケーションを作る まずはEJBです。
package org.katsumi.ejb; import javax.ejb.Stateless; @Stateless public class HelloEjb { public String say() { return &quot;Hello!&quot;; } }  EJBを呼び出すRESTリソースです。
package org.katsumi.ejb; import javax.inject.Inject; import javax.ws.rs.GET; import javax.ws.rs.Path; @Path(&quot;/hello&quot;) public class HelloResource { @Inject private HelloEjb helloEjb; @GET public String hello() { return helloEjb.</div>

  
  <footer>
    <a href="https://kokuzawa.github.io/blog/2015/11/22/wildfly-swarmdeejbwoshi-su/" title="WildFly SwarmでEJBを試す">Read More…</a>
  </footer>
  
</article>
</li>
      
      <li><article class="li">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2015-11-16T22:58:09JST">Nov 16, 2015</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://kokuzawa.github.io/blog/">blog</a></li>
      
    </ul>
    <h2 class="title"><a href="https://kokuzawa.github.io/blog/2015/11/16/wildfly-swarmdejsfwoshi-su/">WildFly SwarmでJSFを試す</a></h2>
  </header>

  
  <div class="summary">昨日はWildFly SwarmでJAXRSを触ったので、今日はJSFを試してみることにします。
JSFを組み込む 仕様毎にモジュールが分かれているので、JAXRSの時と同じく、今回はJSFのモジュールを取り込みます。 あと、ここで特に記載はしませんがwildfly-swarm-pluginももちろん設定する必要があります。
&lt;dependency&gt; &lt;groupId&gt;org.wildfly.swarm&lt;/groupId&gt; &lt;artifactId&gt;wildfly-swarm-jsf&lt;/artifactId&gt; &lt;version&gt;1.0.0.Alpha5&lt;/version&gt; &lt;/dependency&gt;  JSFアプリケーションを作る JSFアプリケーションを作ると言ってもJavaのコードを書くわけではなく、 動くことが分かれば良いのでXHTMLファイルだけを作るだけにします。
&lt;?xml version='1.0' encoding='UTF-8' ?&gt; &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt; &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;&gt; &lt;body&gt; &lt;h:outputText value=&quot;Hello JSF!&quot;/&gt; &lt;/body&gt; &lt;/html&gt;  あと、JAXRSの時と違い、web.xmlを作る必要があります。
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; version=&quot;3.1&quot;&gt; &lt;context-param&gt; &lt;param-name&gt;javax.faces.PROJECT_STAGE&lt;/param-name&gt; &lt;param-value&gt;Development&lt;/param-value&gt; &lt;/context-param&gt; &lt;servlet&gt; &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt; &lt;servlet-class&gt;javax.faces.webapp.FacesServlet&lt;/servlet-class&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;Faces Servlet&lt;/servlet-name&gt; &lt;url-pattern&gt;*.xhtml&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;/web-app&gt;  動かす JAXRSの時と同じく、mainメソッドから実行するため、mainメソッドを持つクラスを作ります。 今回はJAXRSArchiveではなく、WARArchieをデプロイします。
package org.katsumi.jsf; import org.</div>

  
  <footer>
    <a href="https://kokuzawa.github.io/blog/2015/11/16/wildfly-swarmdejsfwoshi-su/" title="WildFly SwarmでJSFを試す">Read More…</a>
  </footer>
  
</article>
</li>
      
      <li><article class="li">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2015-11-14T16:08:44JST">Nov 14, 2015</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://kokuzawa.github.io/blog/">blog</a></li>
      
    </ul>
    <h2 class="title"><a href="https://kokuzawa.github.io/blog/2015/11/14/wildfly-swarmdejaxrswoshi-su/">WildFly SwarmでJAXRSを試す</a></h2>
  </header>

  
  <div class="summary">WildFly Swarmのサイトにも記載されていますが、WildFly Swarmは自己完結型のJava microservicesを作成するのに役立つプロジェクトとのこと。 この分野だとSpring Bootの方が運用実績もあり、先行しているようですが、 将来的にはEJBも使いたいのでWildFly Swarmの方を使ってみます。 WildFly Swarmは一つのモジュールというわけではなく、JavaEEの仕様毎に複数のモジュールに分かれていて、 自分の必要なモジュールを取り込んで利用する形になるようです。
JAXRSを組み込む 今回は数あるモジュールの中からJAXRSのモジュールを利用してみます。 2015年11月時点での最新バージョンは1.0.0.Alpha5です。 pom.xmlに下記のdependencyを追加します。
&lt;dependency&gt; &lt;groupId&gt;org.wildfly.swarm&lt;/groupId&gt; &lt;artifactId&gt;wildfly-swarm-jaxrs&lt;/artifactId&gt; &lt;version&gt;1.0.0.Alpha5&lt;/version&gt; &lt;dependency&gt;  これを依存グラフで見てみると&hellip;依存がすごいです（笑）
JAXRSのモジュールを組み込んだだけではビルドしても実行できないので、 下記のpluginもpom.xmlに追加します。
&lt;plugin&gt; &lt;groupId&gt;org.wildfly.swarm&lt;/groupId&gt; &lt;artifactId&gt;wildfly-swarm-plugin&lt;/artifactId&gt; &lt;version&gt;1.0.0.Alpha5&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;goals&gt; &lt;goal&gt;package&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt;  JAXRSアプリケーションを作る WildFly Swarmの設定が一通り終わったので、次はJAXRSアプリケーションを作ります。 特別なことはなく、普通のJAXRSアプリケーションです。
package org.katsumi; import javax.ws.rs.ApplicationPath; import javax.ws.rs.core.Application; @ApplicationPath(&quot;/rest&quot;) public class MyApplication extends Application { }  package org.katsumi; import javax.ws.rs.GET; import javax.ws.rs.Path; @Path(&quot;/hello&quot;) public class HelloResource { @GET public String hello() { return &quot;Hello World!</div>

  
  <footer>
    <a href="https://kokuzawa.github.io/blog/2015/11/14/wildfly-swarmdejaxrswoshi-su/" title="WildFly SwarmでJAXRSを試す">Read More…</a>
  </footer>
  
</article>
</li>
      
      <li><article class="li">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2015-10-15T02:44:04JST">Oct 15, 2015</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://kokuzawa.github.io/blog/">blog</a></li>
      
    </ul>
    <h2 class="title"><a href="https://kokuzawa.github.io/blog/2015/10/15/stream-in-jaxrs/">JAX-RSでStreamを扱う</a></h2>
  </header>

  
  <div class="summary">JAX-RSでExcelファイルをダウンロードする際にストリームを直接触る必要があって、 どうすればストリームにアクセスできるかちょっと調べてみました。 Excelファイルの生成にはApache POIを使っています。
Apache POIでExcelファイルを生成する場合、下記のようなコードを書きます。
final Workbook wb = new HSSFWorkbook(); final FileOutputStream fileOut = new FileOutputStream(&quot;workbook.xls&quot;); wb.write(fileOut); fileOut.close();  生成したファイルをファイルとして保存せずにServletでダウンロードしようとした場合、 そのコードは下記のようにHttpServletResponse#getOutputStream()でアウトプットストリームを取得し、 レスポンスボディに対してストリーミング処理をすることになります。
final Workbook wb = new HSSFWorkbook(); final FileOutputStream fileOut = new FileOutputStream(response.getOutputStream()); wb.write(fileOut); fileOut.close();  ここからが本題です。
JAX-RSでファイルをダウンロードするにはどうしたら良いのか。
通常のファイルの場合は下記のようなコードを書くことで実現できます。
final File file = new File(&quot;workbook.xls&quot;); return Response.ok(file).build();  Servletでのダウンロードのように、 レスポンスボディに対してストリーミング処理をする場合はjavax.ws.rs.core.StreamingOutputクラスを利用します。 そのコードは下記のようになります。
final Workbook wb = new HSSFWorkbook(); final StreamingOutput so = out -&gt; wb.write(out); return Response.ok(stream).build();  </div>

  
</article>
</li>
      
      <li><article class="li">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2015-05-07T15:34:12JST">May 7, 2015</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://kokuzawa.github.io/blog/">blog</a></li>
      
    </ul>
    <h2 class="title"><a href="https://kokuzawa.github.io/blog/2015/05/07/continue-translate-google/">Googleのテキスト読み上げAPIを組み込む（その２）</a></h2>
  </header>

  
  <div class="summary">先日書いたコードがiOSのSafariで上手く動きませんでした。
Googleのテキスト読み上げAPIを組み込む
子供向けなのでiPhoneまたはiPadで音声が再生されないと困ります。 いろいろ調べたけれど、JavaScriptから呼び出す方法がわからないので 勝手知ったるJavaの世界に取り込んでiOSのSafariでも音声が再生されるようにしました。
下記がそのコードです。
@Path(&quot;/tts&quot;) public class TTSResource { @GET @Produces(&quot;audio/mpeg&quot;) public Response textToSpeech(@QueryParam(&quot;text&quot;) String text) throws IOException { final URL url = new URL(&quot;http://translate.google.com/translate_tts?tl=en&amp;q=&quot; + text); final URLConnection connection = url.openConnection(); connection.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla&quot;); return Response.ok(connection.getInputStream()).build(); } }  JAX-RSでGoogle Translateの結果をそのままレスポンスとして返すようにしています。 User-Agentを指定していないと上手く動きません。 ここで気がついたのですがUser-Agentで振る舞いが変わるようなので、 もしかしたらiOSからのアクセスの場合にもUser-Agentを偽装できれば音声が再生されるのかもしれないです。
先日の記事にも書きましたがクライアント側（javaScript）は下記のようになります。
&lt;h:outputScript&gt; function play() { var voice = new Audio(); voice.src = &quot;${request.contextPath}/rest/tts?text=one&quot;; voice.play(); } &lt;/h:outputScript&gt; &lt;a href=&quot;javascript:play()&quot;&gt;音声&lt;/a&gt;  </div>

  
</article>
</li>
      
      <li><article class="li">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2015-05-03T22:12:37JST">May 3, 2015</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://kokuzawa.github.io/blog/">blog</a></li>
      
    </ul>
    <h2 class="title"><a href="https://kokuzawa.github.io/blog/2015/05/03/translate-google/">Googleのテキスト読み上げAPIを組み込む</a></h2>
  </header>

  
  <div class="summary">子供用の英単語帳Webアプリを作っています。 単語の読み上げ機能があると便利だなと思い、そんなAPIはないかと調べてみると、 Googleが提供しているテキスト読み上げAPIというのを見つけました。
使い方はとても簡単で、下記のようなURLを呼び出せば良いようです。 この例ではoneという単語を読み上げてくれます。
http://translate.google.com/translate_tts?tl=en&amp;q=one  これをHTMLに組み込みます。 HTMLで音声を再生するためにはaudioタグを利用します。 下記のように組み込むことで音声を再生するためのコントロールを表示することができます。
&lt;video src=&quot;http://translate.google.com/translate_tts?tl=en&amp;q=one&quot; controls /&gt;  こんな感じになります。
実際のアプリはJSF-2.2でFaceletを利用しています。 このタグを組み込んだ場合、最初の一回目は正しく再生されますが 2回目以降が再生されません。 なぜダメなのか結局分からなかったのですが、 UI的にはaudioコントロールを表示したくなかったので、 タグを埋め込むのではなくJavaScriptで再生するようにしました。
&lt;script&gt; function play() { var audio = document.createElement(&quot;audio&quot;); audio.src = &quot;http://translate.google.com/translate_tts?tl=en&amp;q=one&quot;; audio.play(); } &lt;/script&gt; &lt;a href=&quot;#&quot; onClick=&quot;play()&quot;&gt;再生&lt;/a&gt;  この場合audioコントロールは表示されないのですが、 再生リンクをクリックするたびに正しく再生されます。</div>

  
</article>
</li>
      
      <li><article class="li">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2015-04-07T23:24:07JST">Apr 7, 2015</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://kokuzawa.github.io/blog/">blog</a></li>
      
    </ul>
    <h2 class="title"><a href="https://kokuzawa.github.io/blog/2015/04/07/web-dot-xmlfalsebaziyonbie-dtdxsdfalsexuan-yan-fang-fa/">web.xmlのバージョン別DTD・XSDの宣言方法</a></h2>
  </header>

  
  <div class="summary">JavaでWebアプリを作る場合、Mavenのmaven-archetype-webappテンプレートを利用しています。 非常に便利なのですが、Servlet 3.1が出ている今、 生成されたwe.xmlがServlet 2.3の記述になっていてちょっと古すぎます。 そのため、毎回テンプレートから生成したあとにweb.xmlを書き換えなければなりません。 このちょっと面倒な作業を楽にするためにバージョン毎の宣言方法をメモしておきます。
 Servlet 2.3 maven-archetype-webappテンプレートで生成されるものです。
 &lt;!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" "http://java.sun.com/dtd/web-app_2_3.dtd" &gt; &lt;web-app&gt; &lt;/web-app&gt;     Servlet 2.4 &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;web-app version="2.4" xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd" &gt; &lt;/web-app&gt;     Servlet 2.5 &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;web-app xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" version="2.5"&gt; &lt;/web-app&gt;     Servlet 3.0 &lt;?xml version="1.0" encoding="UTF-8"?&gt; &lt;web-app xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="</div>

  
  <footer>
    <a href="https://kokuzawa.github.io/blog/2015/04/07/web-dot-xmlfalsebaziyonbie-dtdxsdfalsexuan-yan-fang-fa/" title="web.xmlのバージョン別DTD・XSDの宣言方法">Read More…</a>
  </footer>
  
</article>
</li>
      
      <li><article class="li">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2015-01-27T23:46:21JST">Jan 27, 2015</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://kokuzawa.github.io/blog/">blog</a></li>
      
    </ul>
    <h2 class="title"><a href="https://kokuzawa.github.io/blog/2015/01/27/deprecated-org-dot-hibernate-dot-ejb-dot-hibernatepersistence/">Deprecated org.hibernate.ejb.HibernatePersistence</a></h2>
  </header>

  
  <div class="summary">どのバージョンからなのかはわからないが、Hibernate-4.3.8.Finalではpersistence.xmlのproviderに記載するHibernateのプロバイダクラスがdeprecatedになっていた。
&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;  上記を下記に置き換える必要がある。
&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;  </div>

  
</article>
</li>
      
      <li><article class="li">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2014-12-25T01:30:39JST">Dec 25, 2014</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://kokuzawa.github.io/blog/">blog</a></li>
      
    </ul>
    <h2 class="title"><a href="https://kokuzawa.github.io/blog/2014/12/25/java-dot-util-dot-objectswoshi-ikonasou/">java.util.Objectsを使おう</a></h2>
  </header>

  
  <div class="summary">この記事はJava Advent Calendar 2014の25日目です。
昨日は@smogamiさんの「LombokとLombok-pg： Javaコードを減量する魔法のスパイス」でした。
今年も様々な面白い記事がアップされました。 そんな楽しかった25日間も今日で最終日です。 最終日なのですが、ちょっと地味にJava7で追加されたjava.util.Objectsについて書きたいと思います。
java.util.Objectsクラスでは今までありそうでなかった便利なユーティリティメソッドが用意されています。 Java7の時点では下記のメソッドが定義されています。
 static  int compare(T a, T b, Comparator&lt;? super T&gt; c) static boolean deepEquals(Object a, Object b) static boolean equals(Object a, Object b) static int hash(Object&hellip; values) static int hashCode(Object o) static  T requireNonNull(T obj) static  T requireNonNull(T obj, String message) static String toString(Object o) static String toString(Object o, String nullDefault)  詳細はJavadocを参照してもらうとして、 私はrequireNonNullメソッドをよく利用しています。 いろいろなプロジェクトでメソッドの引数チェックの方法がマチマチだったのが、 このメソッドのおかげで引数チェック方法が統一できたのが画期的でした。 Lombokの@NonNullアノテーションでチェックすればいいじゃない？という話もありますが&hellip;(^^;</div>

  
  <footer>
    <a href="https://kokuzawa.github.io/blog/2014/12/25/java-dot-util-dot-objectswoshi-ikonasou/" title="java.util.Objectsを使おう">Read More…</a>
  </footer>
  
</article>
</li>
      
    </ul>

    
<nav>
  <ul class="pager">

    
    <li><a href="https://kokuzawa.github.io/tags/java/">Previous</a></li>
    

    
    <li><a href="https://kokuzawa.github.io/tags/java/page/3/">Next</a></li>
    

  </ul>
</nav>



  </div>
  <div class="col-md-4">
    
<aside class="l-sidebar">

  <section class="panel panel-default">
    <div class="panel-heading">
      <div class="panel-title">LATESTS</div>
    </div>
    <div class="list-group">
      
      <a href="https://kokuzawa.github.io/blog/2017/12/04/primefaces-dblclick/" class="list-group-item">PrimeFaces-6.1 Dblclick Event</a>
      
      <a href="https://kokuzawa.github.io/about/" class="list-group-item">About</a>
      
      <a href="https://kokuzawa.github.io/blog/2017/11/24/my-first-post/" class="list-group-item">Hugoで始めるブログ生活</a>
      
      <a href="https://kokuzawa.github.io/blog/2017/01/12/jsf-2-3-websocket/" class="list-group-item">JSF 2.3 の Websocket を試す</a>
      
      <a href="https://kokuzawa.github.io/blog/2016/12/28/primeng/" class="list-group-item">PrimeNGを組み込む</a>
      
      <a href="https://kokuzawa.github.io/blog/2016/12/28/intellij-ideaangular2/" class="list-group-item">IntelliJ IDEAでAngular2アプリを動かす</a>
      
      <a href="https://kokuzawa.github.io/blog/2016/12/25/opendialog-of-primefaces/" class="list-group-item">Dialog of PrimeFaces</a>
      
      <a href="https://kokuzawa.github.io/blog/2016/12/15/httpurlconnection/" class="list-group-item">HttpURLConnectionで嵌った話</a>
      
      <a href="https://kokuzawa.github.io/blog/2016/12/14/remotecommand-in-composite/" class="list-group-item">remoteCommand in Composite</a>
      
      <a href="https://kokuzawa.github.io/blog/2016/10/20/java-freemarker-noparse/" class="list-group-item">FreeMarkerでinterpolation部分をそのまま出力</a>
      
    </div>
  </section>

  
  <section class="panel panel-default">
    <div class="panel-heading">
      <div class="panel-title">CATEGORY</div>
    </div>
    <div class="list-group">
      
    </div>
  </section>
  
  <section class="panel panel-default">
    <div class="panel-heading">
      <div class="panel-title">TAG</div>
    </div>
    <div class="list-group">
      
      <a href="https://kokuzawa.github.io/tags/java" class="list-group-item">java</a>
      
      <a href="https://kokuzawa.github.io/tags/jsf" class="list-group-item">jsf</a>
      
      <a href="https://kokuzawa.github.io/tags/javaee" class="list-group-item">javaee</a>
      
      <a href="https://kokuzawa.github.io/tags/wildfly" class="list-group-item">wildfly</a>
      
      <a href="https://kokuzawa.github.io/tags/javafx" class="list-group-item">javafx</a>
      
      <a href="https://kokuzawa.github.io/tags/jax-rs" class="list-group-item">jax-rs</a>
      
      <a href="https://kokuzawa.github.io/tags/jpa" class="list-group-item">jpa</a>
      
      <a href="https://kokuzawa.github.io/tags/glassfish" class="list-group-item">glassfish</a>
      
      <a href="https://kokuzawa.github.io/tags/intellij-idea" class="list-group-item">intellij-idea</a>
      
      <a href="https://kokuzawa.github.io/tags/mac" class="list-group-item">mac</a>
      
    </div>
  </section>
  

</aside>


  </div>
</div>

      </div>
    </main>

    <footer class="l-footer">
      <div class="container">
        <p><span class="h-logo">&copy; Katsumi Kokuzawa&#39;s Blog</span></p>
        <aside>
          <p>Powered by <a href="https://gohugo.io/">Hugo</a>.</p>
          <p><a href="https://github.com/dim0627/hugo_theme_beg">Beg</a> designed by <a href="http://yet.unresolved.xyz/">Daisuke Tsuji</a>.</p>
        </aside>
      </div>
    </footer>

    <script src="//code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

